#水星主線即將去試煉之地對話劇情

#透過scoreboard story(dummy) + schedule 指令運行整個劇情

execute positioned 6 63 177 in game_map:orantes as @a[tag=!op,distance=..18] if score .main_line orantes.story matches 104 run summon minecraft:armor_stand -4.30 63.00 170.00 {Team:"main_line",Brain: {memories: {}}, HurtByTimestamp: 0, Attributes: [{Base: 0.0d, Name: "minecraft:generic.armor_toughness"}, {Base: 0.0d, Name: "minecraft:generic.armor"}, {Base: 0.699999988079071d, Name: "minecraft:generic.movement_speed"}], Invulnerable: 1b, FallFlying: 0b, ShowArms: 1b, PortalCooldown: 0, AbsorptionAmount: 0.0f, FallDistance: 0.0f, DisabledSlots: 4144959, DeathTime: 0s, Pose: {RightArm: [311.0f, 332.0f, 0.0f], LeftLeg: [267.0f, 352.0f, 0.0f], LeftArm: [309.0f, 26.0f, 0.0f], RightLeg: [269.0f, 12.0f, 0.0f]}, Invisible: 0b, Tags: ["ml.sgp","task_glow.fx"], Motion: [0.0d, -0.0784000015258789d, 0.0d], Small: 0b, Health: 20.0f, Air: 300s, OnGround: 1b, Rotation: [-90.0f, 0.0f], HandItems: [{count: 1, id: "minecraft:stick"}, {}], Fire: -1s, ArmorItems: [{components: {"minecraft:dyed_color": {rgb: 16383998}}, count: 1, id: "minecraft:leather_boots"}, {components: {"minecraft:dyed_color": {rgb: 16383998}}, count: 1, id: "minecraft:leather_leggings"}, {components: {"minecraft:dyed_color": {rgb: 16383998}}, count: 1, id: "minecraft:leather_chestplate"}, {components: {"minecraft:profile": {properties: [{name: "textures", value: "ewogICJ0aW1lc3RhbXAiIDogMTY5OTI1NTY0MjgxNiwKICAicHJvZmlsZUlkIiA6ICI2ZTlhYzA2NzQ1OTc0ZjMyOWFmMWEyY2U4MzhiYjY2NCIsCiAgInByb2ZpbGVOYW1lIiA6ICJNaWxicmlsbGlvbiIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS80MTRjMDZkMTFjYjZhNjQ4NTAyODIzMzIxYjhkNTM0YTk5NTNkMzZhZTQ4MjE3OWNjMDIxOWM3MThlZjZiZmRlIgogICAgfQogIH0KfQ=="}]}}, count: 1, id: "minecraft:player_head"}], NoBasePlate: 1b, HurtTime: 0s}

execute positioned 6 63 177 in game_map:orantes as @a[tag=!op,distance=..18] if score .main_line orantes.story matches 104 run tellraw @s {"text":"［希爾］爺爺我們回來了！"}
execute positioned 6 63 177 in game_map:orantes as @a[tag=!op,distance=..18] if score .main_line orantes.story matches 105 run tellraw @s {"text":"［爺爺］深淵的魔將都解決了嗎?"}
execute positioned 6 63 177 in game_map:orantes as @a[tag=!op,distance=..18] if score .main_line orantes.story matches 106 run tellraw @s {"text":"［你］是的","color":"dark_green"}
execute positioned 6 63 177 in game_map:orantes as @a[tag=!op,distance=..18] if score .main_line orantes.story matches 107 run tellraw @s [{"text":"［爺爺］在奧蘭蒂斯有一片森林，森林中間是 "},{"text":"試煉之地 ","color":"gold","bold":true}]
execute positioned 6 63 177 in game_map:orantes as @a[tag=!op,distance=..18] if score .main_line orantes.story matches 108 run tellraw @s {"text":"［爺爺］那邊有水鏡之光與深淵的氣息"}
execute positioned 6 63 177 in game_map:orantes as @a[tag=!op,distance=..18] if score .main_line orantes.story matches 109 run tellraw @s {"text":"［爺爺］在你們擊敗深淵的魔將後"}
execute positioned 6 63 177 in game_map:orantes as @a[tag=!op,distance=..18] if score .main_line orantes.story matches 110 run tellraw @s {"text":"［爺爺］深淵氣息明顯變少了"}
execute positioned 6 63 177 in game_map:orantes as @a[tag=!op,distance=..18] if score .main_line orantes.story matches 111 run tellraw @s {"text":"［爺爺］我猜測水鏡之光可能是被深淵力量給控制導致以前的事情發生"}
execute positioned 6 63 177 in game_map:orantes as @a[tag=!op,distance=..18] if score .main_line orantes.story matches 112 run tellraw @s [{"text":"［爺爺］水鏡之光據我研究他似乎怕","bold":false},{"text":" 風","color":"dark_green","bold":true},{"text":"、","color":"white","bold":false},{"text":"物理屬性 攻擊","color":"white","bold":true}]
execute positioned 6 63 177 in game_map:orantes as @a[tag=!op,distance=..18] if score .main_line orantes.story matches 113 run tellraw @s {"text":"［爺爺］你們等等去一趟試煉之地要小心！"}
execute positioned 6 63 177 in game_map:orantes as @a[tag=!op,distance=..18] if score .main_line orantes.story matches 114 run tellraw @s [{"text":"【目標】去森林深處的試煉之地！","color": "gold","bold": false},{"text":" (紅色信標標記處) ","bold": true,"color": "red"}]
execute in minecraft:overworld if score .main_line orantes.story matches 114 run weather thunder
execute in minecraft:overworld if score .main_line orantes.story matches 114 run tag @e[tag=ml.sgp] remove task_glow.fx
execute if score .main_line orantes.story matches 114 run scoreboard players set #main_line global.advancements 8
#循環偵測
#loop
execute if score .main_line orantes.story matches 104..114 run scoreboard players add .main_line orantes.story 1
execute if score .main_line orantes.story matches 104..114 run schedule function time_traveler:story/orantes/main_line/place_of_trial/1 4s